"use strict";(self["webpackChunkvue_router"]=self["webpackChunkvue_router"]||[]).push([[780],{4780:function(e,t,r){r.r(t),r.d(t,{default:function(){return u}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"body"},[t("section",{attrs:{id:"main-body"}},[t("div",{staticClass:"container"},[t("div",{staticClass:"panel-body flex-row tab-menu"},[t("router-link",{attrs:{to:"/admin/management/products"}},[e._v(" Products")]),t("router-link",{attrs:{to:"/admin/management/users"}},[e._v("Users")]),t("router-link",{attrs:{to:"/admin/management/login"}},[e._v("Login")])],1)])]),t("router-view")],1)},i=[],a=r(2806),o=r.n(a),n={name:"ProductForm",components:{Paginate:o()},data(){return{search:{author:"",name:"",minprice:"",maxprice:""},list:[],products:[],page:{pageCount:0,count:1,per_page:5},currentSort:"time",currentSortDir:1,title:"product",showFilter:!1,filters:["id","name","price","time"],nPage:[],operators:{equal_to:"=",less_than:"<",greater_than:">",like:"LIKE",in:"IN",not_in:"NOT_IN",between:"BETWEEN"},params:{page:1,per_page:1,sort_column:"id",direction:"desc",search_column:"id",search_operator:"equal_to",search_query_1:"",search_query_2:""}}},props:{},created(){this.getAll()},mounted(){},methods:{clickCallback(e){this.page.pageCount=e-1},prev(){this.model.prev_page_url&&(this.params.page--,this.getAll())},next(){this.model.next_page_url&&(this.params.page--,this.getAll())},getAll(){this.$request.get(this.builUrl()).then((e=>{this.products=e.data,this.products=this.products.reverse()}))},builUrl(){return"http://localhost:8000/api/products"},onDelete(e){this.$swal.fire({title:"Delete?",text:"You won't be able to revert this!",icon:"question",type:"warning",showDenyButton:!1,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel please!",timer:5e3}).then((t=>{t.isConfirmed&&this.$request.delete(`http://localhost:8000/api/products/${e}`).then((e=>{e.data.success&&(this.$swal.fire("Đã Xóa","","success"),this.getAll())}))}))},sort:function(e){e===this.currentSort&&(this.currentSortDir="asc"===this.currentSortDir?"desc":"asc"),this.currentSort=e},changeCurrentDir(){this.currentSortDir=-this.currentSortDir}},watch:{currentSortDir(e){console.log(this.products),this.products.sort(((e,t)=>this.currentSortDir))}},computed:{getFilter(){return this.products.filter((e=>""===this.search.minprice&&""===this.search.maxprice?e.name.toLowerCase().includes(this.search.name.toLowerCase())&&e.price>=0:""!=this.search.minprice&&""===this.search.maxprice?e.name.toLowerCase().includes(this.search.name.toLowerCase())&&e.price>=this.search.minprice:""===this.search.minprice&&""!=this.search.maxprice?e.name.toLowerCase().includes(this.search.name.toLowerCase())&&e.price>=0&&e.price<=this.search.maxprice:""!=this.minprice&&""!=this.maxprice?e.name.toLowerCase().includes(this.search.name.toLowerCase())&&e.price>=this.search.minprice&&e.price<=this.search.maxprice:void 0))},pageList(){return this.getFilter.length%this.page.per_page===0?this.page.count=Math.floor(this.getFilter.length/this.page.per_page):this.page.count=Math.floor(this.getFilter.length/this.page.per_page+1),console.log(this.products),this.getFilter.slice(5*this.page.pageCount,5*(this.page.pageCount+1))}}},c=n,h=r(3736),l=(0,h.Z)(c,s,i,!1,null,null,null),u=l.exports}}]);
//# sourceMappingURL=780.8b62a5e4.js.map