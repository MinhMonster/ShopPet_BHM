"use strict";(self["webpackChunkvue_router"]=self["webpackChunkvue_router"]||[]).push([[650],{5650:function(e,t,s){s.r(t),s.d(t,{default:function(){return l}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"body"},[t("section",{attrs:{id:"main-body"}},[t("div",{staticClass:"container bg-white mgt--20px"},[t("div",{staticClass:"panel-body flex-row-space-between-center"},[t("div",{staticClass:"btn"},[t("button",{staticClass:"btn btn-primary text-white"},[t("router-link",{attrs:{to:"/admin/management/users"}},[e._v("Users")])],1)]),t("div",{staticClass:"btn"},[t("button",{staticClass:"btn btn-primary text-white"},[t("router-link",{attrs:{to:{name:"admin.management.users.create"}}},[e._v("Add New")])],1),t("button",{staticClass:"btn btn-info btn-sm mgl-10px text-white",on:{click:function(t){e.showFilter=!e.showFilter}}},[t("i",{staticClass:"fa fa-search"})])])]),e.showFilter?t("div",{staticClass:"filter flex-row-space-between-center"},[t("div",{staticClass:"search-wrapper"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.search.uid,expression:"search.uid"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Uid"},domProps:{value:e.search.uid},on:{input:function(t){t.target.composing||e.$set(e.search,"uid",t.target.value)}}})]),t("div",{staticClass:"col-md-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.search.name,expression:"search.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name"},domProps:{value:e.search.name},on:{input:function(t){t.target.composing||e.$set(e.search,"name",t.target.value)}}})]),t("div",{staticClass:"col-md-3"},[t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.search.username,expression:"search.username",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"Username"},domProps:{value:e.search.username},on:{input:function(t){t.target.composing||e.$set(e.search,"username",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),t("div",{staticClass:"col-md-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.search.email,expression:"search.email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Email"},domProps:{value:e.search.email},on:{input:function(t){t.target.composing||e.$set(e.search,"email",t.target.value)}}})])])])]):e._e(),t("div",{staticClass:"card-deck mb-3 text-center scroll-x"},[t("table",{staticClass:"table table-primary table-bdrs-5px"},[t("thead",[t("tr",[t("th",{attrs:{scope:"col"}},[e._v("#")]),t("th",{attrs:{scope:"col"}},[e._v("Name")]),t("th",{attrs:{scope:"col"}},[e._v("Username")]),t("th",{attrs:{scope:"col"},on:{click:function(t){return e.changeCurrentDir()}}},[e._v("Email")]),t("th",{attrs:{scope:"col"}},[e._v("Action")])])]),t("tbody",e._l(e.List,(function(s,a){return t("tr",{key:a},[t("td",{attrs:{scope:"row"}},[e._v(e._s(s.uid))]),t("td",[e._v(e._s(s.name))]),t("td",[e._v(e._s(s.username))]),t("td",[e._v(e._s(s.email))]),t("td",{staticClass:"gap-10px"},[t("router-link",{attrs:{to:{name:"admin.management.users.edit",params:{id:s.id}}}},[t("b-button",{attrs:{variant:"primary"}},[t("i",{staticClass:"fa fa-edit"})])],1),t("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.onDelete(s.id)}}},[t("i",{staticClass:"fa fa-trash"})])],1)])})),0)])]),this.page.count>1?t("div",{staticClass:"panel-footer"},[t("paginate",{attrs:{"page-count":this.page.count,"page-range":3,"margin-pages":2,"click-handler":e.clickCallback,"prev-text":"<<","next-text":">>","container-class":"pagination","page-class":"page-item"},model:{value:e.params.page,callback:function(t){e.$set(e.params,"page",t)},expression:"params.page"}})],1):e._e()])])])},r=[],i={name:"ProductForm",components:{},data(){return{showFilter:!1,users:[],currentSort:"time",currentSortDir:1,search:{uid:"",name:"",username:"",email:""},page:{pageCount:0,count:1,per_page:5},params:{page:1,per_page:1,sort_column:"id",direction:"desc",search_column:"id",search_operator:"equal_to",search_query_1:"",search_query_2:""}}},created(){this.getAll()},mounted(){},methods:{clickCallback(e){this.page.pageCount=e-1},prev(){this.model.prev_page_url&&(this.params.page--,this.getAll())},next(){this.model.next_page_url&&(this.params.page--,this.getAll())},getAll(){this.$request.get("http://localhost:8000/api/users").then((e=>{this.users=e.data,this.users=this.users.reverse()}))},onDelete(e){this.$swal.fire({title:"Delete?",text:"You won't be able to revert this!",icon:"question",type:"warning",showDenyButton:!1,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel please!",timer:5e3}).then((t=>{t.isConfirmed&&this.$request.delete(`http://localhost:8000/api/users/${e}`).then((e=>{e.data.success&&(this.$swal.fire("Đã Xóa","","success"),this.getAll())}))}))},sort:function(e){e===this.currentSort&&(this.currentSortDir="asc"===this.currentSortDir?"desc":"asc"),this.currentSort=e},changeCurrentDir(){this.currentSortDir=-this.currentSortDir}},watch:{currentSortDir(e){console.log(this.users),this.users.sort(((e,t)=>this.currentSortDir))}},computed:{getFilter(){return this.users.filter((e=>""===this.search.uid?e.name.toLowerCase().includes(this.search.name.toLowerCase())&&e.username.toLowerCase().includes(this.search.username.toLowerCase())&&e.email.toLowerCase().includes(this.search.email.toLowerCase()):e.uid==this.search.uid&&e.name.toLowerCase().includes(this.search.name.toLowerCase())&&e.username.toLowerCase().includes(this.search.username.toLowerCase())&&e.email.toLowerCase().includes(this.search.email.toLowerCase())))},List(){return this.getFilter.length%this.page.per_page===0?this.page.count=Math.floor(this.getFilter.length/this.page.per_page):this.getFilter.length<=this.page.per_page?(this.page.count=Math.floor(this.getFilter.length/this.page.per_page+1),this.page.pageCount=0):this.page.pageCount>this.page.count-1?(this.page.count=Math.floor(this.getFilter.length/this.page.per_page)+1,this.page.pageCount=0):this.page.count=Math.floor(this.getFilter.length/this.page.per_page+1),console.log(this.page.count),console.log(this.page.pageCount),console.log(this.users),this.getFilter.slice(this.page.per_page*this.page.pageCount,this.page.per_page*(this.page.pageCount+1))}}},o=i,n=s(3736),c=(0,n.Z)(o,a,r,!1,null,null,null),l=c.exports}}]);
//# sourceMappingURL=650.97fe24c4.js.map