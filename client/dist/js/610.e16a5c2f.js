(self["webpackChunkvue_router"]=self["webpackChunkvue_router"]||[]).push([[610],{3610:function(t,r,e){"use strict";e.r(r),e.d(r,{default:function(){return c}});var s=function(){var t=this,r=t._self._c;return r("div",{staticClass:"body"},[r("section",{attrs:{id:"main-body"}},[r("div",{staticClass:"add-user"},[r("div",{staticClass:"container bg-white mgt--20px"},[r("div",{staticClass:"panel-body flex-row-space-between-center"},[r("div",{staticClass:"btn"},[r("button",{staticClass:"btn btn-primary text-white"},[r("router-link",{attrs:{to:"/admin/management/users"}},[t._v("Back")])],1)])]),r("form",{staticClass:"needs-validation text-left",attrs:{action:"",novalidate:""},on:{submit:function(r){return r.preventDefault(),t.save()}}},[r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-md-3 col-form-label",attrs:{for:"inputName"}},[t._v("Name")]),r("div",{staticClass:"col-md-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"form-control",class:{"is-invalid":t.errors.name},attrs:{type:"text",required:""},domProps:{value:t.user.name},on:{blur:function(r){return t.validate()},input:function(r){r.target.composing||t.$set(t.user,"name",r.target.value)}}}),t.errors.name?r("div",{staticClass:"feedback-invalid"},[t._v(" "+t._s(t.errors.name)+" ")]):t._e()])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-md-3 col-form-label",attrs:{for:"inputUsername"}},[t._v("Username")]),r("div",{staticClass:"col-md-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",class:{"is-invalid":t.errors.username},attrs:{type:"text",required:""},domProps:{value:t.user.username},on:{blur:function(r){return t.validate()},input:function(r){r.target.composing||t.$set(t.user,"username",r.target.value)}}}),t.errors.username?r("div",{staticClass:"feedback-invalid"},[t._v(" "+t._s(t.errors.username)+" ")]):t._e()])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-md-3 col-form-label",attrs:{for:"inputEmail"}},[t._v("Email")]),r("div",{staticClass:"col-md-9"},[r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.user.email,expression:"user.email",modifiers:{number:!0}}],staticClass:"form-control",class:{"is-invalid":t.errors.email},attrs:{type:"email",name:"email",required:""},domProps:{value:t.user.email},on:{blur:[function(r){return t.validate()},function(r){return t.$forceUpdate()}],input:function(r){r.target.composing||t.$set(t.user,"email",t._n(r.target.value))}}}),t.errors.email?r("div",{staticClass:"feedback-invalid"},[t._v(" "+t._s(t.errors.email)+" ")]):t._e()])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-md-3 col-form-label",attrs:{for:"input"}},[t._v("Password")]),r("div",{staticClass:"col-md-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",class:{"is-invalid":t.errors.password},attrs:{type:"text",required:""},domProps:{value:t.user.password},on:{blur:function(r){return t.validate()},input:function(r){r.target.composing||t.$set(t.user,"password",r.target.value)}}}),t.errors.password?r("div",{staticClass:"feedback-invalid"},[t._v(" "+t._s(t.errors.password)+" ")]):t._e()])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-md-3 col-form-label",attrs:{for:"input"}}),r("div",{staticClass:"col-md-9"},[r("div",{staticClass:"left group-btn"},[r("b-button",{attrs:{type:"submit",variant:"primary "}},[t._v("Save")]),r("b-button",{attrs:{variant:"danger mgl-10px"},on:{click:function(r){return t.reset()}}},[t._v("Reset")])],1)])])])])])])])},a=[],n=e(3822),o={name:"CreateData",data(){return{errors:{username:"",email:"",password:""},users:[],user:{id:"",uid:"",username:"",email:"",password:"",create_at:""}}},created(){const t=this.$route.params.id;console.log(t),t&&this.getUser(t),this.getAll()},methods:{...(0,n.nv)([""]),validate(){let t=!0;return this.errors={name:"",username:"",email:"",password:""},this.user.name||(this.errors.name="Error: Name not Empty",t=!1),this.user.username||(this.errors.username="Error: Username not Empty",t=!1),this.user.email||(this.errors.email="Error: Email not Empty ",t=!1),this.user.password||(this.errors.password="Error: Password not Empty ",t=!1),t},isNumber(t){return/^\d*$/.test(t)},async save(){if(this.validate()){if(this.user.id)return void this.$request.put(`http://localhost:8000/api/users/${this.user.id}`,this.user).then((t=>{t.data.success?this.$router.push({name:"admin.management.users"}):alert("Errors")}));await this.getAll();let r=0,s=0;for(let t=0;t<this.users.length;t++)console.log(this.users.length),this.users[t].uid>r&&(r=this.users[t].uid);s=r+1,this.user.uid=s,console.log(s),this.user.create_at=(new Date).toLocaleString(),this.user.uid=s;var t=e(9564);this.user.password=t(this.user.password),this.$request.post("http://localhost:8000/api/users",this.user).then((t=>{console.log(t),t.data.success?(this.reset(),this.$router.push({name:"admin.managements.users"})):t.data.success||alert("Đã Tồn Tại")}))}},getUser(t){this.$request.get(`http://localhost:8000/api/users/${t}`).then((t=>{this.user=t.data}))},reset(){this.user.username="",this.user.email="",this.user.password=""},async getAll(){console.log(this.builUrl()),await this.$request.get(this.builUrl()).then((t=>{this.users=t.data,this.users=this.users.reverse();var r=e(9564);console.log(r("message"))}))},builUrl(){return"http://localhost:8000/api/users"}}},i=o,u=e(3736),l=(0,u.Z)(i,s,a,!1,null,null,null),c=l.exports},6050:function(t){var r={utf8:{stringToBytes:function(t){return r.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(r.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var r=[],e=0;e<t.length;e++)r.push(255&t.charCodeAt(e));return r},bytesToString:function(t){for(var r=[],e=0;e<t.length;e++)r.push(String.fromCharCode(t[e]));return r.join("")}}};t.exports=r},8258:function(t){(function(){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(t,r){return t<<r|t>>>32-r},rotr:function(t,r){return t<<32-r|t>>>r},endian:function(t){if(t.constructor==Number)return 16711935&e.rotl(t,8)|4278255360&e.rotl(t,24);for(var r=0;r<t.length;r++)t[r]=e.endian(t[r]);return t},randomBytes:function(t){for(var r=[];t>0;t--)r.push(Math.floor(256*Math.random()));return r},bytesToWords:function(t){for(var r=[],e=0,s=0;e<t.length;e++,s+=8)r[s>>>5]|=t[e]<<24-s%32;return r},wordsToBytes:function(t){for(var r=[],e=0;e<32*t.length;e+=8)r.push(t[e>>>5]>>>24-e%32&255);return r},bytesToHex:function(t){for(var r=[],e=0;e<t.length;e++)r.push((t[e]>>>4).toString(16)),r.push((15&t[e]).toString(16));return r.join("")},hexToBytes:function(t){for(var r=[],e=0;e<t.length;e+=2)r.push(parseInt(t.substr(e,2),16));return r},bytesToBase64:function(t){for(var e=[],s=0;s<t.length;s+=3)for(var a=t[s]<<16|t[s+1]<<8|t[s+2],n=0;n<4;n++)8*s+6*n<=8*t.length?e.push(r.charAt(a>>>6*(3-n)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],s=0,a=0;s<t.length;a=++s%4)0!=a&&e.push((r.indexOf(t.charAt(s-1))&Math.pow(2,-2*a+8)-1)<<2*a|r.indexOf(t.charAt(s))>>>6-2*a);return e}};t.exports=e})()},8566:function(t){function r(t){return!!t.constructor&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function e(t){return"function"===typeof t.readFloatLE&&"function"===typeof t.slice&&r(t.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(r(t)||e(t)||!!t._isBuffer)}},9564:function(t,r,e){e(8675),e(7380),e(1118),e(1703),function(){var r=e(8258),s=e(6050).utf8,a=e(8566),n=e(6050).bin,o=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?n.stringToBytes(t):s.stringToBytes(t):a(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var i=r.bytesToWords(t),u=8*t.length,l=1732584193,c=-271733879,d=-1732584194,m=271733878,f=0;f<i.length;f++)i[f]=16711935&(i[f]<<8|i[f]>>>24)|4278255360&(i[f]<<24|i[f]>>>8);i[u>>>5]|=128<<u%32,i[14+(u+64>>>9<<4)]=u;var p=o._ff,v=o._gg,h=o._hh,g=o._ii;for(f=0;f<i.length;f+=16){var b=l,y=c,w=d,C=m;l=p(l,c,d,m,i[f+0],7,-680876936),m=p(m,l,c,d,i[f+1],12,-389564586),d=p(d,m,l,c,i[f+2],17,606105819),c=p(c,d,m,l,i[f+3],22,-1044525330),l=p(l,c,d,m,i[f+4],7,-176418897),m=p(m,l,c,d,i[f+5],12,1200080426),d=p(d,m,l,c,i[f+6],17,-1473231341),c=p(c,d,m,l,i[f+7],22,-45705983),l=p(l,c,d,m,i[f+8],7,1770035416),m=p(m,l,c,d,i[f+9],12,-1958414417),d=p(d,m,l,c,i[f+10],17,-42063),c=p(c,d,m,l,i[f+11],22,-1990404162),l=p(l,c,d,m,i[f+12],7,1804603682),m=p(m,l,c,d,i[f+13],12,-40341101),d=p(d,m,l,c,i[f+14],17,-1502002290),c=p(c,d,m,l,i[f+15],22,1236535329),l=v(l,c,d,m,i[f+1],5,-165796510),m=v(m,l,c,d,i[f+6],9,-1069501632),d=v(d,m,l,c,i[f+11],14,643717713),c=v(c,d,m,l,i[f+0],20,-373897302),l=v(l,c,d,m,i[f+5],5,-701558691),m=v(m,l,c,d,i[f+10],9,38016083),d=v(d,m,l,c,i[f+15],14,-660478335),c=v(c,d,m,l,i[f+4],20,-405537848),l=v(l,c,d,m,i[f+9],5,568446438),m=v(m,l,c,d,i[f+14],9,-1019803690),d=v(d,m,l,c,i[f+3],14,-187363961),c=v(c,d,m,l,i[f+8],20,1163531501),l=v(l,c,d,m,i[f+13],5,-1444681467),m=v(m,l,c,d,i[f+2],9,-51403784),d=v(d,m,l,c,i[f+7],14,1735328473),c=v(c,d,m,l,i[f+12],20,-1926607734),l=h(l,c,d,m,i[f+5],4,-378558),m=h(m,l,c,d,i[f+8],11,-2022574463),d=h(d,m,l,c,i[f+11],16,1839030562),c=h(c,d,m,l,i[f+14],23,-35309556),l=h(l,c,d,m,i[f+1],4,-1530992060),m=h(m,l,c,d,i[f+4],11,1272893353),d=h(d,m,l,c,i[f+7],16,-155497632),c=h(c,d,m,l,i[f+10],23,-1094730640),l=h(l,c,d,m,i[f+13],4,681279174),m=h(m,l,c,d,i[f+0],11,-358537222),d=h(d,m,l,c,i[f+3],16,-722521979),c=h(c,d,m,l,i[f+6],23,76029189),l=h(l,c,d,m,i[f+9],4,-640364487),m=h(m,l,c,d,i[f+12],11,-421815835),d=h(d,m,l,c,i[f+15],16,530742520),c=h(c,d,m,l,i[f+2],23,-995338651),l=g(l,c,d,m,i[f+0],6,-198630844),m=g(m,l,c,d,i[f+7],10,1126891415),d=g(d,m,l,c,i[f+14],15,-1416354905),c=g(c,d,m,l,i[f+5],21,-57434055),l=g(l,c,d,m,i[f+12],6,1700485571),m=g(m,l,c,d,i[f+3],10,-1894986606),d=g(d,m,l,c,i[f+10],15,-1051523),c=g(c,d,m,l,i[f+1],21,-2054922799),l=g(l,c,d,m,i[f+8],6,1873313359),m=g(m,l,c,d,i[f+15],10,-30611744),d=g(d,m,l,c,i[f+6],15,-1560198380),c=g(c,d,m,l,i[f+13],21,1309151649),l=g(l,c,d,m,i[f+4],6,-145523070),m=g(m,l,c,d,i[f+11],10,-1120210379),d=g(d,m,l,c,i[f+2],15,718787259),c=g(c,d,m,l,i[f+9],21,-343485551),l=l+b>>>0,c=c+y>>>0,d=d+w>>>0,m=m+C>>>0}return r.endian([l,c,d,m])};o._ff=function(t,r,e,s,a,n,o){var i=t+(r&e|~r&s)+(a>>>0)+o;return(i<<n|i>>>32-n)+r},o._gg=function(t,r,e,s,a,n,o){var i=t+(r&s|e&~s)+(a>>>0)+o;return(i<<n|i>>>32-n)+r},o._hh=function(t,r,e,s,a,n,o){var i=t+(r^e^s)+(a>>>0)+o;return(i<<n|i>>>32-n)+r},o._ii=function(t,r,e,s,a,n,o){var i=t+(e^(r|~s))+(a>>>0)+o;return(i<<n|i>>>32-n)+r},o._blocksize=16,o._digestsize=16,t.exports=function(t,e){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var s=r.wordsToBytes(o(t,e));return e&&e.asBytes?s:e&&e.asString?n.bytesToString(s):r.bytesToHex(s)}}()}}]);
//# sourceMappingURL=610.e16a5c2f.js.map